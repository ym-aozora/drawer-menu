{"version":3,"sources":["webpack://Highendrawer/webpack/universalModuleDefinition","webpack://Highendrawer/webpack/bootstrap","webpack://Highendrawer/./src/const.js","webpack://Highendrawer/./src/helper.js","webpack://Highendrawer/./src/highendrawer.js","webpack://Highendrawer/./src/support.js","webpack://Highendrawer/./src/util.js"],"names":["PREFIX","DRAWER_STYLE","Object","freeze","display","position","overflowX","overflowY","zIndex","opacity","webkitOverflowScrolling","OVERLAY_STYLE","backgroundColor","top","right","bottom","left","TRANSITION_STYLE","transform","transitionProperty","transitionTimingFunction","transitionDuration","DEFAULT_DRAWER_PROPERTY","element","direction","size","maxSize","swipeable","swipeArea","duration","style","initCreate","enabledMaxWidth","history","overlay","onCreate","onDestroy","onOpen","onClose","onChangeState","onResize","onTouchStart","onTouchMove","onTouchFinish","onError","DEFAULT_OVERLAY_PROPERTY","autoCreate","DEFAULT_PROCESS","touches","isTouchActive","isTouchPointActive","isTouchDirectionActive","time","start","end","TOUCH_EVENTS","dom","window","document","createElement","validStyleName","currentId","supportsPassive","opts","defineProperty","get","addEventListener","e","generateId","hasStyle","styles","ss","isArray","setStyle","keys","name","vsn","i","pfx","nwp","ucFirst","unsetStyle","isHTMLElement","obj","HTMLElement","nodeType","ownerDocument","addEventListenerWithOptions","target","type","handler","options","optionsOrCapture","passive","capture","Highendrawer","drawer","state","_id","helper","_drawer","_overlay","_timeoutId","_intervalId","_process","_enabled","_handler","_getDrawerHandler","Error","innerWidth","destroy","create","pushState","replaceState","id","_createDrawer","_createOverlay","apply","close","_destroyDrawer","_destroyOverlay","isFireEvent","isChangeHistory","_changeState","done","fail","_getMinPosition","Promise","resolve","reject","then","support","cssAnim","_resetDrawer","forEach","removeEventListener","autoCreated","touchHandler","body","appendChild","parentNode","removeChild","isUnset","_setProps","ims","_getInitDrawerStyle","sizePixel","_normalizePixel","maxSizePixel","_sizePixel","_position","width","height","minp","transrate","_hideDrawer","_hideOverlay","_getOverlayStyle","_getOverlayOpacityFromPosition","_getDrawerStyle","Date","fromOpy","_getOverlayOpacityFromStyle","toOpy","fromPos","_getDrawerPositionFromStyle","toPos","clearInterval","setInterval","nowPos","nowOpy","prp","len","length","moveInfo","_getTouchMoveInfo","vertical","axis","horizontal","y","x","_getStateFromPosition","resize","event","_touchHandler","bind","popstate","ev","touch","push","_onTouchStart","_onTouchMove","_onTouchFinish","getTime","_isTouchPointActive","_isTouchDirectionActive","isFireTouchStart","_showOverlay","_showDrawer","stopPropagation","preventDefault","_getDrawerPositionFromTouches","_getTouchMoveState","changeState","callbacks","_handleCallback","du","clearTimeout","back","setTimeout","_changeOverlayState","rg","_getRange","from","clientX","to","clientY","pos","Math","abs","touchbasis","touchlast","distance","_getDistance","curpos","round","value","_normalizeNumber","posRatio","parseFloat","basis","_convertPixelAbs","innerHeight","nValue","unit","String","match","Number","replace","offsetHeight","offsetWidth","promise","key","callback","cb","rcb","prom","reduce","sup","transform3d","transition","str","charAt","toUpperCase","substr","prototype","toString","call"],"mappings":"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","file":"highendrawer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Highendrawer\"] = factory();\n\telse\n\t\troot[\"Highendrawer\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/highendrawer.js\");\n","/**\n * Vendor prefix list.\n *\n * @type {string[]}\n */\nexport const PREFIX = ['webkit', 'moz', 'o', 'ms'];\n\n/**\n * Drawer's default css style.\n *\n * @type {Object}\n */\nexport const DRAWER_STYLE = Object.freeze({\n  display: 'block',\n  position: 'fixed',\n  overflowX: 'hidden',\n  overflowY: 'auto',\n  zIndex: -1,\n  opacity: 0,\n  webkitOverflowScrolling: 'touch',\n});\n\n/**\n * Overlay's default css style.\n *\n * @type {Object}\n */\nexport const OVERLAY_STYLE = Object.freeze({\n  display: 'none',\n  backgroundColor: '#000',\n  position: 'fixed',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  zIndex: -1,\n  opacity: 0,\n});\n\n/**\n * Css transition style.\n *\n * @type {Object}\n */\nexport const TRANSITION_STYLE = Object.freeze({\n  transform: '',\n  transitionProperty: 'transform,opacity',\n  transitionTimingFunction: 'cubic-bezier(0, 0.8, 0.95, 1)',\n  transitionDuration: '0ms',\n});\n\n/**\n * Default drawer property.\n *\n * @type {Drawer}\n */\nexport const DEFAULT_DRAWER_PROPERTY = Object.freeze({\n  element: null,\n  direction: 'right',\n  size: '80%',\n  maxSize: -1,\n  swipeable: true,\n  swipeArea: 20,\n  duration: 400,\n  zIndex: 9999,\n  style: {},\n  initCreate: true,\n  enabledMaxWidth: -1,\n  history: true,\n  overlay: null,\n  onCreate: null,\n  onDestroy: null,\n  onOpen: null,\n  onClose: null,\n  onChangeState: null,\n  onResize: null,\n  onTouchStart: null,\n  onTouchMove: null,\n  onTouchFinish: null,\n  onError: null,\n});\n\n/**\n * Default overlay property.\n *\n * @type {Overlay}\n */\nexport const DEFAULT_OVERLAY_PROPERTY = Object.freeze({\n  element: null,\n  opacity: 0.6,\n  zIndex: -1,\n  autoCreate: false,\n});\n\n/**\n * Default processing state object.\n *\n * @type {Object}\n */\nexport const DEFAULT_PROCESS = Object.freeze({\n  touches: [],\n  isTouchActive: null,\n  isTouchPointActive: null,\n  isTouchDirectionActive: null,\n  time: {\n    start: 0,\n    end: 0,\n  },\n});\n\n/**\n * Touch event list.\n *\n * @type {string[]}\n */\nexport const TOUCH_EVENTS = [\n  'touchstart',\n  'touchmove',\n  'touchend',\n  'touchcancel',\n];\n","import {PREFIX} from './const';\nimport {isArray, ucFirst} from './util';\n\nconst dom = window.document.createElement('div');\nconst validStyleName = {};\nlet currentId = 0;\n\n// Feature detection for method 'preventDefault' of event.\nlet supportsPassive = false;\n\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    get: () => {\n      supportsPassive = true;\n    },\n  });\n\n  window.addEventListener('supportsPassiveTestEvent', null, opts);\n} catch (e) {}\n\n/**\n * Generate ID.\n *\n * @return {number} ID.\n */\nexport function generateId() {\n  return ++currentId;\n}\n\n/**\n * Verify that the style is present.\n *\n * @param {string[]|string} styles Css styles.\n * @return {boolean} Result of verification.\n */\nexport function hasStyle(styles) {\n  const ss = isArray(styles) ? styles : [styles];\n\n  for (const style of ss) {\n    if (typeof dom.style[style] !== 'undefined') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * Set the CSS style to element.\n *\n * @param {Object} element Target element object.\n * @param {Object} style Css style.\n */\nexport function setStyle(element, style) {\n  for (const name of Object.keys(style)) {\n    const vsn = validStyleName[name];\n\n    if (vsn) {\n      element.style[vsn] = style[name];\n    } else if (typeof element.style[name] === 'undefined') {\n      for (let i = 0; i < 2; i++) {\n        for (const pfx of PREFIX) {\n          const nwp = (i === 0 ? pfx : ucFirst(pfx)) +\n            ucFirst(name);\n\n          if (typeof element.style[nwp] !== 'undefined') {\n            validStyleName[name] = nwp;\n            element.style[nwp] = style[name];\n            break;\n          }\n        }\n      }\n    } else {\n      validStyleName[name] = name;\n      element.style[name] = style[name];\n    }\n  }\n}\n\n/**\n * Unset the CSS style to element.\n *\n * @param {Object} element Target element object.\n * @param {string[]|string} styles Css styles.\n */\nexport function unsetStyle(element, styles) {\n  const style = {};\n\n  for (const name of isArray(styles) ? styles : [styles]) {\n    style[name] = '';\n  }\n\n  setStyle(element, style);\n}\n\n/**\n * Validate HTMLElement.\n *\n * @param {*} obj HTMLElement to be verified.\n * @return {boolean} Result of valid HTMLElement.\n */\nexport function isHTMLElement(obj) {\n  try {\n    return obj instanceof HTMLElement;\n  } catch (e) {\n    return (typeof obj === 'object') &&\n      (obj.nodeType === 1) &&\n      (typeof obj.style === 'object') &&\n      (typeof obj.ownerDocument === 'object');\n  }\n}\n\n/**\n * Add event listener with options.\n *\n * @param {Object} target Target object.\n * @param {string} type Event type.\n * @param {function} handler Event handler.\n * @param {Object} [options={}] Event options.\n */\nexport function addEventListenerWithOptions(\n    target, type, handler, options = {}\n) {\n  const optionsOrCapture = Object.assign({\n    passive: true,\n    capture: false,\n  }, options);\n\n  target.addEventListener(type, handler, supportsPassive ?\n    optionsOrCapture :\n    optionsOrCapture.capture\n  );\n}\n","import {\n  DEFAULT_DRAWER_PROPERTY,\n  DEFAULT_OVERLAY_PROPERTY,\n  DEFAULT_PROCESS,\n  DRAWER_STYLE,\n  OVERLAY_STYLE,\n  TOUCH_EVENTS,\n  TRANSITION_STYLE,\n} from './const';\n\nimport {isArray} from './util';\nimport * as helper from './helper';\nimport {support} from './support';\n\n/**\n * Class providing a drawer function.\n *\n * @public\n * @class\n * @example\n * var drawer = new Highendrawer({\n *   element: document.getElementById('drawer')\n * });\n */\nexport default class Highendrawer {\n  /**\n   * Initialize object.\n   *\n   * @constructor\n   * @param {Drawer} drawer Initial parameters of drawer.\n   */\n  constructor(drawer) {\n    /**\n     * Drawer status ('open' or 'close')\n     *\n     * @public\n     * @type {string}\n     */\n    this.state = 'close';\n\n    this._id = helper.generateId();\n    this._drawer = Object.assign({}, DEFAULT_DRAWER_PROPERTY, drawer);\n    this._overlay = this._drawer.overlay === false ?\n      false :\n      Object.assign({}, DEFAULT_OVERLAY_PROPERTY, this._drawer.overlay);\n    this._timeoutId = null;\n    this._intervalId = null;\n    this._process = Object.assign({}, DEFAULT_PROCESS);\n    this._enabled = false;\n    this._handler = this._getDrawerHandler();\n\n    if (!this._drawer.element) {\n      throw new Error(`'element' is required.`);\n    }\n\n    if (!helper.isHTMLElement(this._drawer.element)) {\n      throw new Error(`Invalid HTMLElement specified for 'element'.`);\n    }\n\n    if (this._drawer.enabledMaxWidth > -1) {\n      helper.addEventListenerWithOptions(window, 'resize', () => {\n        if (this._enabled &&\n          window.innerWidth > this._drawer.enabledMaxWidth) {\n          this.destroy();\n        } else if (!this._enabled &&\n          window.innerWidth <= this._drawer.enabledMaxWidth) {\n          this.create();\n        }\n      });\n    }\n\n    if (window.history &&\n      window.history.pushState &&\n      this._drawer.history\n    ) {\n      window.history.replaceState({\n        id: this._id,\n      }, null, null);\n    }\n\n    if (this._drawer.initCreate &&\n      (this._drawer.enabledMaxWidth < 0 ||\n        window.innerWidth <= this._drawer.enabledMaxWidth)\n    ) {\n      this.create();\n    }\n  }\n\n  /**\n   * Create the drawer set.\n   *\n   * @public\n   */\n  create() {\n    try {\n      this._createDrawer();\n      this._createOverlay();\n      this._enabled = true;\n\n      if (this._drawer.onCreate) {\n        this._drawer.onCreate.apply(this, [this._drawer]);\n      }\n    } catch (e) {\n      if (this._drawer && this._drawer.onError && typeof this._drawer.onError === 'function') {\n        this._drawer.onError.apply(this, [e]);\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Destroy the drawer set.\n   *\n   * @public\n   */\n  destroy() {\n    try {\n      if (this.state === 'open') {\n        this.close(0, true, true);\n      }\n\n      this._destroyDrawer();\n      this._destroyOverlay();\n      this._enabled = false;\n\n      if (this._drawer.onDestroy) {\n        this._drawer.onDestroy.apply(this, [this._drawer]);\n      }\n    } catch (e) {\n      if (this._drawer && this._drawer.onError && typeof this._drawer.onError === 'function') {\n        this._drawer.onError.apply(this, [e]);\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Open drawer.\n   *\n   * @public\n   * @param {number} [duration] Drawer moving time.\n   * @param {boolean} [isFireEvent] Whether to fire an event on the drawer.\n   * @param {boolean} [isChangeHistory=false] Make a change in history.\n   * @return {Promise} Promise object for open.\n   */\n  open(duration = null, isFireEvent = true, isChangeHistory = true) {\n    return this._changeState(\n        0,\n        duration,\n        {\n          onChangeState: isFireEvent ? this._drawer.onChangeState : null,\n          done: isFireEvent ? this._drawer.onOpen : null,\n          fail: isFireEvent ? this._drawer.onError : null,\n        },\n        isChangeHistory\n    );\n  }\n\n  /**\n   * Close drawer.\n   *\n   * @public\n   * @param {number} [duration] Drawer moving time.\n   * @param {boolean} [isFireEvent] Whether to fire an event on the drawer.\n   * @param {boolean} [isChangeHistory=false] Make a change in history.\n   * @return {Promise} Promise object for close.\n   */\n  close(duration = null, isFireEvent = true, isChangeHistory = true) {\n    return this._changeState(\n        this._getMinPosition(),\n        duration,\n        {\n          onChangeState: isFireEvent ? this._drawer.onChangeState : null,\n          done: isFireEvent ? this._drawer.onClose : null,\n          fail: isFireEvent ? this._drawer.onError : null,\n        },\n        isChangeHistory\n    );\n  }\n\n  /**\n   * Toggle drawer.\n   *\n   * @public\n   * @param {number} [duration] Drawer moving time.\n   * @param {boolean} [isFireEvent] Whether to fire an event on the drawer.\n   * @param {boolean} [isChangeHistory=false] Make a change in history.\n   * @return {Promise} Promise object for toggle.\n   */\n  toggle(duration = null, isFireEvent = true, isChangeHistory = true) {\n    return new Promise((resolve, reject) => {\n      try {\n        this[this.state === 'open' ? 'close' : 'open'](duration, isFireEvent, isChangeHistory)\n            .then(resolve, reject);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  /**\n   * Create drawer.\n   */\n  _createDrawer() {\n    helper.setStyle(\n        this._drawer.element,\n        Object.assign(\n            {},\n            DRAWER_STYLE,\n        support.cssAnim ? TRANSITION_STYLE : {}\n        )\n    );\n\n    this._resetDrawer();\n\n    Object.keys(this._handler).forEach((name) => {\n      helper.addEventListenerWithOptions(window, name, this._handler[name], {\n        passive: name !== 'touchmove',\n      });\n    });\n  }\n\n  /**\n   * Destroy drawer.\n   */\n  _destroyDrawer() {\n    Object.keys(this._handler).forEach((name) => {\n      window.removeEventListener(name, this._handler[name]);\n    });\n\n    this._resetDrawer(true);\n\n    helper.unsetStyle(\n        this._drawer.element,\n        Object.keys(\n            Object.assign(\n                {},\n                DRAWER_STYLE,\n          support.cssAnim ? TRANSITION_STYLE : {}\n            )\n        )\n    );\n  }\n\n  /**\n   * Create overlay.\n   */\n  _createOverlay() {\n    if (this._overlay === false) {\n      return;\n    }\n\n    if (this._overlay.zIndex === -1) {\n      this._overlay.zIndex = this._drawer.zIndex - 1;\n    }\n\n    if (!this._overlay.element) {\n      this._overlay.element = window.document.createElement('div');\n      this._overlay.autoCreated = true;\n\n      helper.setStyle(\n          this._overlay.element,\n          Object.assign(\n              {},\n              OVERLAY_STYLE,\n          support.cssAnim ? TRANSITION_STYLE : {}\n          )\n      );\n    }\n\n    if (!this._overlay.touchHandler) {\n      this._overlay.touchHandler = (e) => {\n        this.close();\n      };\n    }\n\n    window.document.body.appendChild(this._overlay.element);\n  }\n\n  /**\n   * Destroy overlay.\n   */\n  _destroyOverlay() {\n    if (this._overlay === false) {\n      return;\n    }\n\n    if (this._overlay.element) {\n      this._overlay.element.removeEventListener('click', this._overlay.touchHandler);\n\n      if (this._overlay.autoCreated) {\n        this._overlay.element.parentNode.removeChild(this._overlay.element);\n      }\n    }\n  }\n\n  /**\n   * Reset drawer.\n   *\n   * @param {boolean} [isUnset] Unset style.\n   */\n  _resetDrawer(isUnset = false) {\n    try {\n      this._setProps();\n\n      const ims = this._getInitDrawerStyle();\n\n      if (isUnset) {\n        helper.unsetStyle(this._drawer.element, Object.keys(ims));\n      } else {\n        helper.setStyle(this._drawer.element, ims);\n      }\n    } catch (e) {\n      if (this._drawer.onError && typeof this._drawer.onError === 'function') {\n        this._drawer.onError.apply(this, [e]);\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   * Show drawer.\n   */\n  _showDrawer() {\n    helper.setStyle(this._drawer.element, {\n      zIndex: this._drawer.zIndex,\n      opacity: 1,\n    });\n  }\n\n  /**\n   * Hide drawer.\n   */\n  _hideDrawer() {\n    helper.setStyle(this._drawer.element, {\n      zIndex: -1,\n      opacity: 0,\n    });\n  }\n\n  /**\n   * Show overlay.\n   */\n  _showOverlay() {\n    helper.setStyle(this._overlay.element, {\n      zIndex: this._overlay.zIndex,\n      display: 'block',\n    });\n  }\n\n  /**\n   * Hide overlay.\n   */\n  _hideOverlay() {\n    helper.setStyle(this._overlay.element, {\n      zIndex: -1,\n      display: 'none',\n    });\n  }\n\n  /**\n   * Set properties.\n   */\n  _setProps() {\n    // set sizePixel\n    let sizePixel = this._normalizePixel(\n        this._drawer.size\n    );\n\n    if (this._drawer.maxSize && this._drawer.maxSize !== -1) {\n      const maxSizePixel = this._normalizePixel(\n          this._drawer.maxSize\n      );\n\n      if (sizePixel > maxSizePixel) {\n        sizePixel = maxSizePixel;\n      }\n    }\n\n    this._sizePixel = sizePixel;\n\n    // set position\n    this._position = typeof this._position === 'undefined' ?\n      null :\n      this._position;\n  }\n\n  /**\n   * Return initial style of drawer.\n   *\n   * @return {Object} Style for drawer.\n   */\n  _getInitDrawerStyle() {\n    let style = null;\n\n    switch (this._drawer.direction) {\n      case 'top':\n        style = {\n          width: '100%',\n          height: `${this._sizePixel}px`,\n          top: `-${this._sizePixel}px`,\n          right: 'auto',\n          bottom: 'auto',\n          left: 0,\n        };\n        break;\n      case 'right':\n        style = {\n          width: `${this._sizePixel}px`,\n          height: '100%',\n          top: 0,\n          right: `-${this._sizePixel}px`,\n          bottom: 'auto',\n          left: 'auto',\n        };\n        break;\n      case 'bottom':\n        style = {\n          width: '100%',\n          height: `${this._sizePixel}px`,\n          top: 'auto',\n          right: 'auto',\n          bottom: `-${this._sizePixel}px`,\n          left: 0,\n        };\n        break;\n      case 'left':\n        style = {\n          width: `${this._sizePixel}px`,\n          height: '100%',\n          top: 0,\n          right: 'auto',\n          bottom: 'auto',\n          left: `-${this._sizePixel}px`,\n        };\n        break;\n      default:\n        throw new Error(`'${this._drawer.direction}' does not support`);\n    }\n\n    return Object.assign(style, this._drawer.style || {});\n  }\n\n  /**\n   * Return style for moving the drawer.\n   *\n   * @param {number} position Moving position.\n   * @param {number} [duration] Drawer moving time.\n   * @return {Object} Move style for drawer.\n   */\n  _getDrawerStyle(position, duration = null) {\n    const minp = this._getMinPosition(this._drawer);\n    const style = {};\n\n    if (support.cssAnim) {\n      style.transitionDuration = `${duration === null ? this._drawer.duration : duration}ms`;\n\n      switch (this._drawer.direction) {\n        case 'top':\n          style.transform = `${support.transrate}(0,${-(minp - position)}px,0)`;\n          break;\n        case 'right':\n          style.transform = `${support.transrate}(${minp - position}px,0,0)`;\n          break;\n        case 'bottom':\n          style.transform = `${support.transrate}(0,${minp - position}px,0)`;\n          break;\n        case 'left':\n          style.transform = `${support.transrate}(${-(minp - position)}px,0,0)`;\n          break;\n        default:\n          throw new Error(`'${this._drawer.direction}' does not support`);\n      }\n    } else {\n      style[this._drawer.direction] = `${position}px`;\n    }\n\n    return style;\n  }\n\n  /**\n   * Return style for moving the overlay.\n   *\n   * @param {float} opacity Overlay opacity.\n   * @param {number} [duration] Drawer moving time.\n   * @return {Object} Move style for overlay.\n   */\n  _getOverlayStyle(opacity, duration = null) {\n    const style = {\n      opacity,\n    };\n\n    if (support.cssAnim) {\n      style.transitionDuration = `${duration === null ? this._drawer.duration : duration}ms`;\n    }\n\n    return style;\n  }\n\n  /**\n   * Change overlay state.\n   *\n   * @param {string} state Drawer status ('open' or 'close')\n   */\n  _changeOverlayState(state) {\n    if (state === 'open') {\n      helper.addEventListenerWithOptions(this._overlay.element, 'click', this._overlay.touchHandler);\n    } else {\n      this._hideDrawer();\n      this._hideOverlay();\n    }\n  }\n\n  /**\n   * Make animation with CSS3.\n   *\n   * @param {number} duration Drawer moving time.\n   */\n  _cssAnimate(duration) {\n    helper.setStyle(\n        this._overlay.element,\n        this._getOverlayStyle(\n            this._getOverlayOpacityFromPosition(this._position),\n            duration\n        )\n    );\n\n    helper.setStyle(\n        this._drawer.element,\n        this._getDrawerStyle(this._position, duration)\n    );\n  }\n\n  /**\n   * Make animation with Javascript.\n   *\n   * @param {number} duration Drawer moving time.\n   */\n  _jsAnimate(duration) {\n    const start = +new Date();\n    const fromOpy = this._getOverlayOpacityFromStyle();\n    const toOpy = this._getOverlayOpacityFromPosition(this._position);\n    const fromPos = this._getDrawerPositionFromStyle();\n    const toPos = this._position;\n\n    if (this._intervalId) {\n      clearInterval(this._intervalId);\n    }\n\n    this._intervalId = setInterval(() => {\n      let time = new Date() - start;\n      let nowPos = null;\n      let nowOpy = null;\n\n      if (time > duration) {\n        clearInterval(this._intervalId);\n        this._intervalId = null;\n        nowOpy = toOpy;\n        nowPos = toPos;\n      } else {\n        const prp = (time /= duration) * (time - 2);\n        nowOpy = fromOpy - ((toOpy - fromOpy) * prp);\n        nowPos = fromPos - ((toPos - fromPos) * prp);\n      }\n\n      helper.setStyle(\n          this._overlay.element,\n          this._getOverlayStyle(nowOpy, duration)\n      );\n\n      helper.setStyle(\n          this._drawer.element,\n          this._getDrawerStyle(nowPos, duration)\n      );\n    }, 10);\n  }\n\n  /**\n   * Return state by touch movement.\n   *\n   * @return {string} State by touch movement.\n   */\n  _getTouchMoveState() {\n    if (this._process.time.end - this._process.time.start <= 300) {\n      const len = this._process.touches.length;\n      const moveInfo = this._getTouchMoveInfo(\n          this._process.touches[len - 2],\n          this._process.touches[len - 1]\n      );\n      const vertical = moveInfo.axis === 'vertical';\n      const horizontal = moveInfo.axis === 'horizontal';\n      const top = this._drawer.direction === 'top' && moveInfo.y >= 0;\n      const right = this._drawer.direction === 'right' && moveInfo.x < 0;\n      const bottom = this._drawer.direction === 'bottom' && moveInfo.y < 0;\n      const left = this._drawer.direction === 'left' && moveInfo.x >= 0;\n\n      return (vertical && (bottom || top)) ||\n        (horizontal && (right || left)) ?\n        'open' :\n        'close';\n    }\n\n    return this._getStateFromPosition();\n  }\n\n  /**\n   * Return drawer event handler.\n   *\n   * @return {Object} Drawer event handler.\n   */\n  _getDrawerHandler() {\n    const handler = {};\n\n    handler.resize = () => {\n      this._resetDrawer();\n      this[this.state](0, false, false);\n\n      if (this._drawer.onResize) {\n        this._drawer.onResize.apply(\n            this,\n            [this._drawer]\n        );\n      }\n    };\n\n    if (this._drawer.swipeable) {\n      for (const event of TOUCH_EVENTS) {\n        handler[event] = this._touchHandler.bind(this);\n      }\n    }\n\n    if (window.history &&\n      window.history.pushState &&\n      this._drawer.history\n    ) {\n      handler.popstate = (e) => {\n        if (e.state && e.state.id === this._id && this.state === 'open') {\n          this.close(null, true, false);\n        }\n      };\n    }\n\n    return handler;\n  }\n\n  /**\n   * Touch event handler.\n   *\n   * @param {Event} ev Touch event object.\n   * @return {boolean} Event bubbling.\n   */\n  _touchHandler(ev) {\n    try {\n      if (ev.touches.length > 1) {\n        return true;\n      }\n\n      const touch = ev.touches[0];\n\n      if (touch) {\n        this._process.touches.push(touch);\n      }\n\n      switch (ev.type) {\n        case 'touchstart':\n          this._onTouchStart(ev);\n          break;\n        case 'touchmove':\n          this._onTouchMove(ev);\n          break;\n        case 'touchcancel':\n        case 'touchend':\n          this._onTouchFinish(ev);\n          break;\n        default:\n          break;\n      }\n    } catch (e) {\n      if (this._drawer.onError && typeof this._drawer.onError === 'function') {\n        this._drawer.onError.apply(this, [e]);\n      } else {\n        throw e;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Touch start event handler.\n   *\n   * @param {Event} ev Touch event object.\n   */\n  _onTouchStart(ev) {\n    this._process.time.start = new Date().getTime();\n  }\n\n  /**\n   * Touch move event handler.\n   *\n   * @param {Event} ev Touch event object.\n   */\n  _onTouchMove(ev) {\n    const len = this._process.touches.length;\n\n    if (len < 2) {\n      return;\n    }\n\n    if (!this._process.isTouchPointActive) {\n      this._process.isTouchPointActive = this._isTouchPointActive();\n    }\n\n    if (!this._process.isTouchPointActive) {\n      return;\n    }\n\n    if (this._process.isTouchDirectionActive === null) {\n      this._process.isTouchDirectionActive = this._isTouchDirectionActive();\n    }\n\n    if (!this._process.isTouchDirectionActive) {\n      return;\n    }\n\n    let isFireTouchStart = false;\n    const isTouchActive = this._process.isTouchPointActive &&\n        this._process.isTouchDirectionActive;\n\n    if (!isTouchActive) {\n      return;\n    }\n\n    if (!this._process.isTouchActive) {\n      this._process.isTouchActive = isTouchActive;\n      this._showOverlay();\n      this._showDrawer();\n\n      if (this._drawer.onTouchStart) {\n        isFireTouchStart = true;\n      }\n    }\n\n    ev.stopPropagation();\n    ev.preventDefault();\n\n    this._position = this._getDrawerPositionFromTouches(\n        this._process.touches[len - 2],\n        this._process.touches[len - 1]\n    );\n\n    if (isFireTouchStart) {\n      this._drawer.onTouchStart.apply(\n          this,\n          [this._drawer, this._position]\n      );\n    }\n\n    helper.setStyle(\n        this._overlay.element,\n        this._getOverlayStyle(\n            this._getOverlayOpacityFromPosition(this._position),\n            0\n        )\n    );\n\n    helper.setStyle(\n        this._drawer.element,\n        this._getDrawerStyle(this._position, 0)\n    );\n\n    if (this._drawer.onTouchMove) {\n      this._drawer.onTouchMove.apply(\n          this,\n          [this._drawer, this._position]\n      );\n    }\n  }\n\n  /**\n   * Touch finish event handler.\n   *\n   * @param {Event} ev Touch event object.\n   */\n  _onTouchFinish(ev) {\n    const len = this._process.touches.length;\n\n    if (this._process.isTouchActive && len >= 2) {\n      this._process.time.end = new Date().getTime();\n\n      const state = this._getTouchMoveState();\n      const changeState = this.state !== state;\n\n      this[state](null, changeState, changeState);\n\n      if (this._drawer.onTouchFinish) {\n        this._drawer.onTouchFinish.apply(\n            this,\n            [\n              this._drawer,\n              this._getDrawerPositionFromTouches(\n                  this._process.touches[len - 2],\n                  this._process.touches[len - 1]\n              ),\n            ]\n        );\n      }\n    }\n\n    this._process.touches = [];\n    this._process.isTouchActive = null;\n    this._process.isTouchPointActive = null;\n    this._process.isTouchDirectionActive = null;\n    this._process.time.start = 0;\n    this._process.time.end = 0;\n  }\n\n  /**\n   * Return whether or not a valid touch.\n   *\n   * @param {number} position Moving position.\n   * @param {number} [duration=null] Drawer moving time.\n   * @param {Object} [callbacks=null] Callback objects.\n   * @param {boolean} [isChangeHistory=false] Make a change in history.\n   * @return {Promise} Promise object.\n   */\n  _changeState(\n      position,\n      duration = null,\n      callbacks = null,\n      isChangeHistory = true\n  ) {\n    return this._handleCallback(new Promise((resolve, reject) => {\n      try {\n        if (!this._enabled) {\n          throw new Error('Drawer is disabled.');\n        }\n\n        this._position = position;\n\n        const du = duration === null ? this._drawer.duration : duration;\n\n        if (this._timeoutId !== null) {\n          clearTimeout(this._timeoutId);\n          this._timeoutId = null;\n        }\n\n        const state = this._getStateFromPosition();\n\n        if (state === 'open') {\n          this._showOverlay();\n          this._showDrawer();\n        } else {\n          this._overlay.element.removeEventListener('click', this._overlay.touchHandler);\n        }\n\n        if (isChangeHistory &&\n          this._drawer.history &&\n          window.history &&\n          window.history.pushState\n        ) {\n          if (state === 'open') {\n            window.history.pushState({\n              id: this._id,\n            }, null, null);\n          } else {\n            window.history.back();\n          }\n        }\n\n        this[support.cssAnim ?\n          '_cssAnimate' :\n          '_jsAnimate'](du);\n\n        if (du > 0) {\n          this._timeoutId = setTimeout(\n              () => {\n                this._changeOverlayState(state);\n                this._timeoutId = null;\n              },\n              du\n          );\n        } else {\n          this._changeOverlayState(state);\n        }\n\n        this.state = state;\n\n        if (typeof callbacks === 'object' && callbacks.onChangeState) {\n          callbacks.onChangeState.apply(\n              this,\n              [this._drawer, state]\n          );\n        }\n\n        resolve.apply(this, [this._drawer]);\n      } catch (e) {\n        reject(e);\n      }\n    }), {\n      done: typeof callbacks === 'object' && callbacks.done ? callbacks.done : null,\n      fail: typeof callbacks === 'object' && callbacks.fail ? callbacks.fail : null,\n    });\n  }\n\n  /**\n   * Return whether or not a valid touch point.\n   *\n   * @return {boolean} Result of valid touch point.\n   */\n  _isTouchPointActive() {\n    const rg = this._getRange(\n      this.state === 'open' ?\n        this._sizePixel :\n        this._drawer.swipeArea\n    );\n    const len = this._process.touches.length;\n\n    return (rg.from.x <= this._process.touches[len - 2].clientX &&\n      this._process.touches[len - 2].clientX <= rg.to.x &&\n      rg.from.y <= this._process.touches[len - 2].clientY &&\n      this._process.touches[len - 2].clientY <= rg.to.y);\n  }\n\n  /**\n   * Return whether or not a valid touch direction.\n   *\n   * @return {boolean} Result of valid touch direction.\n   */\n  _isTouchDirectionActive() {\n    const len = this._process.touches.length;\n    const moveInfo = this._getTouchMoveInfo(\n        this._process.touches[len - 2],\n        this._process.touches[len - 1]\n    );\n    const vertical = moveInfo.axis === 'vertical';\n    const horizontal = moveInfo.axis === 'horizontal';\n\n    if (!(vertical &&\n      (this._drawer.direction === 'top' ||\n      this._drawer.direction === 'bottom') ||\n      horizontal &&\n      (this._drawer.direction === 'right' ||\n      this._drawer.direction === 'left'))\n    ) {\n      return false;\n    }\n\n    return (\n      (\n        this.state === 'open' &&\n        (\n          this._drawer.direction === 'top' && moveInfo.y < 0 ||\n          this._drawer.direction === 'right' && moveInfo.x >= 0 ||\n          this._drawer.direction === 'bottom' && moveInfo.y >= 0 ||\n          this._drawer.direction === 'left' && moveInfo.x < 0\n        )\n      ) ||\n      (\n        this.state === 'close' &&\n        (\n          this._drawer.direction === 'top' && moveInfo.y >= 0 ||\n          this._drawer.direction === 'right' && moveInfo.x < 0 ||\n          this._drawer.direction === 'bottom' && moveInfo.y < 0 ||\n          this._drawer.direction === 'left' && moveInfo.x >= 0\n        )\n      )\n    );\n  }\n\n  /**\n   * Return the state of the drawer.\n   *\n   * @return {string} State of the drawer.\n   */\n  _getStateFromPosition() {\n    const pos = this._position === null ?\n      this._getDrawerPositionFromStyle() :\n      this._position;\n\n    return Math.abs(pos) < this._sizePixel / 2 ?\n      'open' :\n      'close';\n  }\n\n  /**\n   * Return the position of the drawer.\n   *\n   * @param {Object} touchbasis Basic touch information.\n   * @param {Object} touchlast Last touch information.\n   * @return {number} Position of the drawer.\n   */\n  _getDrawerPositionFromTouches(touchbasis, touchlast) {\n    const distance = this._getDistance(\n        this._getTouchMoveInfo(touchbasis, touchlast)\n    );\n    const curpos = this._position === null ?\n      this._getDrawerPositionFromStyle() :\n      this._position;\n    const minp = this._getMinPosition(this._drawer);\n    let pos = Math.round(curpos + distance);\n\n    if (pos > 0) {\n      pos = 0;\n    } else if (pos < minp) {\n      pos = minp;\n    }\n\n    return pos;\n  }\n\n  /**\n   * Return the position in the style.\n   *\n   * @return {number} Position in the style.\n   */\n  _getDrawerPositionFromStyle() {\n    const value = this._drawer.element.style[this._drawer.direction];\n    return this._normalizeNumber(value).value;\n  }\n\n  /**\n   * Return the opacity of the overlay.\n   *\n   * @param {number} position Moving position.\n   * @return {number} Position of the drawer.\n   */\n  _getOverlayOpacityFromPosition(position) {\n    const minp = this._getMinPosition(this._drawer);\n    const posRatio = 1 - (Math.abs(position) / Math.abs(minp));\n    return ((this._overlay.opacity * posRatio) * 10000) / 10000;\n  }\n\n  /**\n   * Return the opacity in the style.\n   *\n   * @return {number} Opacity in the style.\n   */\n  _getOverlayOpacityFromStyle() {\n    return parseFloat(this._overlay.element.style.opacity);\n  }\n\n  /**\n   * Return the swipe range.\n   *\n   * @param {string|number} value Target swipe area value.\n   * @return {Object} Drag range.\n   * @throws {Error} Is thrown if direction value is invalid.\n   */\n  _getRange(value) {\n    const basis = this._convertPixelAbs(value);\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n\n    switch (this._drawer.direction) {\n      case 'top':\n        return {from: {x: 0, y: 0}, to: {x: width, y: basis}};\n      case 'right':\n        return {from: {x: basis, y: 0}, to: {x: width, y: height}};\n      case 'bottom':\n        return {from: {x: 0, y: basis}, to: {x: width, y: height}};\n      case 'left':\n        return {from: {x: 0, y: 0}, to: {x: basis, y: height}};\n      default:\n        throw new Error(`'${this._drawer.direction}' does not support`);\n    }\n  }\n\n  /**\n   * Return a value converted to the absolute value of the pixel.\n   *\n   * @param {string|number} value Target value.\n   * @return {number} Converted to the absolute value of the pixel.\n   * @throws {Error} Is thrown if direction value is invalid.\n   */\n  _convertPixelAbs(value) {\n    const nValue = this._normalizePixel(value);\n\n    switch (this._drawer.direction) {\n      case 'top':\n      case 'left':\n        return nValue;\n      case 'right':\n        return window.innerWidth - nValue;\n      case 'bottom':\n        return window.innerHeight - nValue;\n      default:\n        throw new Error(`'${this._drawer.direction}' does not support`);\n    }\n  }\n\n  /**\n   * Return the normalized pixel value.\n   *\n   * @param {string|number} value Target value.\n   * @return {number} Normalized pixel value.\n   * @throws {Error} Is thrown if direction value is invalid.\n   */\n  _normalizePixel(value) {\n    const nValue = this._normalizeNumber(value);\n\n    if (nValue.unit === 'number' || nValue.unit === 'pixel') {\n      return nValue.value;\n    } else if (nValue.unit === 'percent') {\n      switch (this._drawer.direction) {\n        case 'top':\n        case 'bottom':\n          return window.innerHeight * (nValue.value / 100);\n        case 'right':\n        case 'left':\n          return window.innerWidth * (nValue.value / 100);\n        default:\n          throw new Error(`'${this._drawer.direction}' does not support`);\n      }\n    }\n  }\n\n  /**\n   * Return the numeric normalized information.\n   *\n   * @param {string|number} value Target value.\n   * @return {Object} Numeric normalized information.\n   * @throws {Error} Is thrown if value is invalid.\n   */\n  _normalizeNumber(value) {\n    if (typeof value === 'number') {\n      return {value: value, unit: 'number'};\n    } else if (String(value).match(/^[.\\-0-9]+$/)) {\n      return {value: Number(value), unit: 'number'};\n    } else if (value.match(/^[.\\-0-9]+px$/)) {\n      return {value: Number(value.replace(/px$/ig, '')), unit: 'pixel'};\n    } else if (value.match(/[.\\-0-9]+%$/)) {\n      return {value: Number(value.replace(/%$/ig, '')), unit: 'percent'};\n    }\n\n    throw new Error(`'${value}' does not support`);\n  }\n\n  /**\n   * Return to the minimum position for the drawer.\n   *\n   * @return {number} Minimum position for the drawer.\n   * @throws {Error} Is thrown if direction value is invalid.\n   */\n  _getMinPosition() {\n    switch (this._drawer.direction) {\n      case 'top':\n      case 'bottom':\n        return -1 * this._drawer.element.offsetHeight;\n      case 'right':\n      case 'left':\n        return -1 * this._drawer.element.offsetWidth;\n      default:\n        throw new Error(`'${this._drawer.direction}' does not support`);\n    }\n  }\n\n  /**\n   * Return the distance of the drawer.\n   *\n   * @param {Object} moveInfo Movement information of the drawer.\n   * @return {number} Distance of the drawer.\n   * @throws {Error} Is thrown if direction value is invalid.\n   */\n  _getDistance(moveInfo) {\n    switch (this._drawer.direction) {\n      case 'top':\n        return moveInfo.y;\n      case 'right':\n        return -1 * moveInfo.x;\n      case 'bottom':\n        return -1 * moveInfo.y;\n      case 'left':\n        return moveInfo.x;\n      default:\n        throw new Error(`'${this._drawer.direction}' does not support`);\n    }\n  }\n\n  /**\n   * Return the information of touch move.\n   *\n   * @param {Object} touchbasis Basic touch information.\n   * @param {Object} touchlast Last touch information.\n   * @return {Object} Movement distance of the x, y direction, movement direction.\n   */\n  _getTouchMoveInfo(touchbasis, touchlast) {\n    const x = touchlast.clientX - touchbasis.clientX;\n    const y = touchlast.clientY - touchbasis.clientY;\n    const axis = Math.abs(x) >= Math.abs(y) ? 'horizontal' : 'vertical';\n    return {x, y, axis};\n  }\n\n  /**\n   * Return the information of touch move.\n   *\n   * @param {Promise} promise Promise instance.\n   * @param {Object} callbacks Callback function with the key to 'done', 'fail', 'always' (each optional).\n   * @return {Promise} Promise instance.\n   */\n  _handleCallback(promise, callbacks) {\n    if (!callbacks) {\n      return promise;\n    }\n\n    for (const key of Object.keys(callbacks)) {\n      const callback = callbacks[key];\n\n      if (!callback) {\n        continue;\n      }\n\n      const cb = isArray(callback) ? callback : [callback];\n      const rcb = null;\n\n      switch (key) {\n        case 'done':\n          rcb = (prom, value) => prom.then(value.bind(this));\n          break;\n        case 'fail':\n          rcb = (prom, value) => prom.catch(value.bind(this));\n          break;\n        case 'always':\n          rcb = (prom, value) => prom.then(value.bind(this), value.bind(this));\n          break;\n        default:\n          break;\n      }\n\n      if (rcb) {\n        cb.reduce(rcb, promise);\n      }\n    }\n\n    return promise;\n  }\n}\n\n// module.exports = Highendrawer;\n","import {hasStyle} from './helper';\n\n/**\n * Browser support information.\n *\n * @type {Object}\n */\nconst sup = {};\n\nsup.transform3d = hasStyle([\n  'perspectiveProperty',\n  'webkitPerspective',\n  'mozPerspective',\n  'oPerspective',\n  'msPerspective',\n]);\n\nsup.transform = hasStyle([\n  'transformProperty',\n  'webkitTransform',\n  'mozTransform',\n  'oTransform',\n  'msTransform',\n]);\n\nsup.transition = hasStyle([\n  'transitionProperty',\n  'webkitTransitionProperty',\n  'mozTransitionProperty',\n  'oTransitionProperty',\n  'msTransitionProperty',\n]);\n\nsup.cssAnim = (sup.transform3d || sup.transform) &&\n  sup.transition;\n\nsup.transrate = sup.transform3d ?\n  'translate3d' :\n  'translate';\n\n/**\n * Browser support information.\n *\n * @type {Object}\n */\nexport const support = Object.freeze(sup);\n","/**\n * Convert the first letter to uppercase.\n *\n * @param {string} str Target character string.\n * @return {string} Converted string.\n */\nexport function ucFirst(str) {\n  return str.charAt(0).toUpperCase() + str.substr(1);\n}\n\n/**\n * Whether or not the object is an array.\n *\n * @param {any} obj Target object.\n * @return {boolean} Returns true if object is an Array.\n */\nexport function isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n"],"sourceRoot":""}